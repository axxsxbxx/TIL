# 데이터프레임

## 1. 정의

> R의 데이터프레임과 비슷한 기능을 함
>
> 2차원 배열의 형태
>
> 여러 개의 시리즈들이 모여서 데이터 프레임을 만듬



## 2. 생성

```R
import pandas as pd

data = {'가':[1,2,3], '나':[4,5,6], '다':[7,8,9]}
df = pd.DataFrame(data)

# 행 인덱스/열 이름 설정
pd.DataFrame(배열, index=인덱스배열, columns=열이름배열)
```



## 3. 주요 기능

```R
# 행 인덱스/열 이름 확인
df.index
df.columns

# 행 인덱스/열 이름 전체 변경
df.index = [새로운 행 인덱스 배열]
df.columns = [새로운 열 이름 배열]

# 행 인덱스/열 이름 부분 변경
# 원본 객체를 변경하기 위해서 inplace=True 옵션을 사용함
df.rename(index={기존 인덱스:새 인덱스, ...})
df.rename(columns={기존 이름:새 이름, ...})

# 행/열 삭제
df.drop(행 인덱스나 배열, axis=0)
df.drop(열 이름 또는 배열, axis=1)

# 행 선택
# 인덱스 이름 기준으로 행 선택
df.loc[인덱스 이름]
# 정수형 위치 인덱스 기준으로 행 선택
df.iloc[정수형 위치 인덱스]

# 열 선택
# 열 1개 선택 : 시리즈 생성
df['열 이름']
df.열 이름
# 열 여러개 선택 : 데이터프레임 생성
df[[열1, 열2, ...]]

# 원소 선택
# 인덱스 이름 사용
df.loc[행 인덱스, 열 이름]
# 정수 위치 인덱스 사용
df.iloc[행 번호, 열 번호]

# 열 추가
df['추가하려는 열 이름'] = 데이터 값

# 행 추가
df.loc['새로운 행 이름'] = 데이터 값 또는 배열

# 원소 값 변경
df의 일부분 또는 원소 선택 = 새로운 값

# 행, 열의 위치 바꾸기
df = df.transpose()
df = df.T
```



## 4. 인덱스 활용

```R
# 특정 열을 행 인덱스로 설정
df.set_index(['열 이름'] 또는 '열 이름')

# 행 인덱스 재배열
df.reindex(새로운 인덱스 배열)

# 행 인덱스를 정수형 위치 인덱스로 초기화
df.reset_index()

# 행 인덱스를 기준으로 정렬
# ascending = False : 내림자순 정렬하는 옵션
df.sort_index()

# 특정 열의 데이터 값을 기준으로 정렬
# ascending = False : 내림자순 정렬하는 옵션
df.sort_values(by = '기준 열')
```



## 5. 연산

```R
# 데이터프레임과 숫자 연산
df + 연산자 + 숫자

# 데이터프레임과 데이터프레임 연산
# 어느 한쪽에 원소가 존재하지 않거나 NaN이면 NaN으로 처리됨
df1 + 연산자 + df2
```

