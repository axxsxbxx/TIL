# 행렬 (Matrix)

## 1. 정의

>2차원의 벡터이며 동일한 타입의 데이터만 저장 가능함

- 벡터에 차원을 부여함으로써 생성



## 2. 생성 방법

```R
# matrix()
# 데이터는 따로 지정하지 않으면 열의 방향으로 채워짐
# 행의 방향으로 데이터를 채우고 싶으면 byrow=True를 지정함
matrix(data, nrow, ncol, byrow)

m1 <- matrix(1:12, 3, 4, byrow=True)
rnames(m1) <- c("r1", "r2", "r3")			# 행의 이름 지정
cnames(m1) <- c("c1", "c2", "c3", "c4")		# 열의 이름 지정

# 첫 번째 인수에 하나의 값을 주면, 재사용 규칙을 적용해 동일값으로 행렬을 모두 채움
matrix(0, 3, 4)		# 0으로 모든 행렬 채워짐

# ncol이나 nrow 인수 활용
# 둘 중 하나를 지정하면 자동으로 필요한 열 또는 행의 개수를 계산함
matrix(1:12, ncol=4)
matrix(1:12, nrow=3)

# rbind()
# 두 벡터를 행의 방향으로 결합하여 행렬을 생성
# 벡터가 저장된 변수의 이름이 행의 이름으로 사용됨
v1 <- 1:5
v2 <- 6:10
rbind(v1, v2)

# cbind()
# 두 벡터를 열의 방향으로 결합하여 행렬을 생성
# 벡터가 저장된 변수의 이름이 열의 이름으로 사용됨
v1 <- 1:5
v2 <- 6:10
cbind(v1, v2)
```



## 3. 인덱싱

```R
# 행렬로부터 하나의 행 또는 열만 선택하여 추출하면 벡터 형식으로 출력
# 행렬 형식을 그대로 유지하게 하려면 drop=FALSE를 지정함
m[row_index, col_index, (drop=FALSE)]

m <- matrix(1:12, 3, 4)
m[1:2,]			# 1,2행
m[c(1,2),]		# 1,2행
m[,3]			# 3열
m[,c(3,4)]		# 3,4열

# 행 또는 열의 인덱스로 음수를 주면 해당 행 또는 열을 선택하지 않는다는 것
m[,-c(2,3)]		# 2,3열이 제거된 행렬 생성

# 인덱스를 이용하여 셀 값을 변경할 수 있음
m[1,3] <- 77	# 1행과 3열이 만나는 곳의 값을 77로 변경함	

```



## 4. 주요 함수

```R
m <- matrix(1:12, 3, 4)

str(m)			# 행렬의 내부 구조 확인
dim(m)			# 행과 열의 개수 확인
nrow(m)			# 행의 개수 확인
ncol(m)			# 열의 개수 확인
length(m)		# 행렬에 포함된 값들의 개수

mean(m)			# 행렬의 평균
sum(m)			# 행렬의 합
min(m)			# 행렬의 최소값
max(m)			# 행렬의 최대값
summary(m)		# 행렬에 대한 여러가지 평균값
rowSums(m)		# 행의 합
colSums(m)		# 열의 합
rowMeans(m)		# 행의 평균
colMeans(m)		# 열의 평균

# apply()
# apply(matrix, 1 or 2, 구하고자 하는 것)
# 1이면 행 기준, 2이면 열 기준
apply(m, 1, sum)		# m의 각 행의 합
apply(m, 1, max)		# m의 각 행의 최대값
apply(m, 1, min)		# m의 각 행의 최소값
apply(m, 1, mean)		# m의 각 행의 평균

apply(m, 2, sum)		# m의 각 열의 합
apply(m, 2, max)		# m의 각 열의 최대값
apply(m, 2, min)		# m의 각 열의 최소값
apply(m, 2, mean)		# m의 각 열의 평균
```



# 배열(Array)

## 1. 정의

> 3차원의 벡터이며 동일타입의 데이터만 저장이 가능함



## 2. 생성 방법 및 인덱싱

```R
# 생성방법
array(1:12, c(3,4,2))		# 3행 4열 2차원으로 된 배열 생성

# 인덱싱
a <- array(1:12, c(3,4,2))

a[1,2,2]		# 두번째 테이블의 1행 2열의 값
a[,1,1]			# 첫번째 테이블의 1열의 값
a[2,,]			# 모든 테이블의 2행의 값
```

